# 信道延迟

信道延迟：与源端和宿端距离有关，也与信道中的信号传播速率有关。

总延时 = 线路延迟 + 发送延迟

线路延迟 = 传输距离/传输速度（路上跑的时间） 比如 1000 米电缆，延时为 5µs。

发送延迟 = 数据帧大小/速率（等待时间） 比如 100M 线路，发送 1000 字节数据，延时为 1000\*8/(100\*10<sup>6</sup>) = 80µs

- 光速为 3000000km/s = 300m/µs
- 电缆中传播速度一般为光速的 67%，即 2000000km/s = 200m/µs
- 微信信道的时延大约 270ms（来回双向的延迟是 540ms）

在 1000 米 100Base-T 线路上，发送 1000 字节数据，延时计算过程如下。

1. 换算单位：100Base-T 线路带宽是 100M，即 100Mbit/s = 100\*10<sup>6</sup>bit/s，1000 字节 = 1000\*bit。
2. 发送延迟： 1000\*8bit/(100\*10<sup>6</sup>bit/s) = 8 \* 10<sub>-5</sub> = 80µs
3. 传输延迟：1000m/(200000km/s) = 5\*10<sup>-6</sup>s = 5µs
4. 数据延迟=发送延迟+传输延迟=80µs+5µs=85µs


